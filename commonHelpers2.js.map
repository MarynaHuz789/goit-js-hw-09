{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["import throttle from 'lodash.throttle';\n\nconst form = document.querySelector(\".feedback-form\");\nconst emailInput = form.elements.email;\nconst messageInput = form.elements.message;\nconst button = document.querySelector(\"button\");\n\nconst FORM_KEY = \"feedback-form-state\"; \n\n\nconst safeFeedback = JSON.parse(localStorage.getItem(FORM_KEY));\n\nif (safeFeedback) {\n    emailInput.value = safeFeedback.email\n    messageInput.value = safeFeedback.message\n    button.disabled = !(emailInput.value && messageInput.value)\n}\n\nform.addEventListener(\"input\", throttle(() => { \n    localStorage.setItem(FORM_KEY, JSON.stringify({\n        email: emailInput.value,\n        message: messageInput.value\n    }))\nbutton.disabled = !(emailInput.value.trim() && messageInput.value.trim())\n}, 500))\n\nform.addEventListener(\"submit\", submitForm)\n\nfunction submitForm(event) {\n    event.preventDefault() \n\nconsole.log({\n    email: emailInput.value,\n    message: messageInput.value    \n})\n    form.reset()\n    localStorage.removeItem(FORM_KEY)\n    button.disabled = true\n}\n"],"names":["form","emailInput","messageInput","button","FORM_KEY","safeFeedback","throttle","submitForm","event"],"mappings":"wIAEA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAaD,EAAK,SAAS,MAC3BE,EAAeF,EAAK,SAAS,QAC7BG,EAAS,SAAS,cAAc,QAAQ,EAExCC,EAAW,sBAGXC,EAAe,KAAK,MAAM,aAAa,QAAQD,CAAQ,CAAC,EAE1DC,IACAJ,EAAW,MAAQI,EAAa,MAChCH,EAAa,MAAQG,EAAa,QAClCF,EAAO,SAAW,EAAEF,EAAW,OAASC,EAAa,QAGzDF,EAAK,iBAAiB,QAASM,EAAS,IAAM,CAC1C,aAAa,QAAQF,EAAU,KAAK,UAAU,CAC1C,MAAOH,EAAW,MAClB,QAASC,EAAa,KAC9B,CAAK,CAAC,EACNC,EAAO,SAAW,EAAEF,EAAW,MAAM,KAAI,GAAMC,EAAa,MAAM,OAClE,EAAG,GAAG,CAAC,EAEPF,EAAK,iBAAiB,SAAUO,CAAU,EAE1C,SAASA,EAAWC,EAAO,CACvBA,EAAM,eAAgB,EAE1B,QAAQ,IAAI,CACR,MAAOP,EAAW,MAClB,QAASC,EAAa,KAC1B,CAAC,EACGF,EAAK,MAAO,EACZ,aAAa,WAAWI,CAAQ,EAChCD,EAAO,SAAW,EACtB"}